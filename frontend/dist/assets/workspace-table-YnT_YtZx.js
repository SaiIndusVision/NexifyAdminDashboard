import{j as e,c as v,B as d,r}from"./index-BIpb7VEJ.js";import{A as R,a as b,C as q,E as B,D as z,b as L,c as W,d as $,f as J}from"./react-icons.esm-D3ovVlUy.js";import{D as K,a as O,b as Q,e as S,d as X}from"./dropdown-menu-CPcBh0xs.js";import{u as M,g as F,h as D,i as y,l as Y,j as P,k as I,T,a as V,b as m,c as k,f as h,d as H,e as p}from"./table-BuU_D776.js";import{S as Z,a as _,b as ee,c as se,d as te}from"./select-pvPekMj3.js";import{I as ae}from"./input-rNDUznzA.js";function de({column:s,title:t,className:o}){return s.getCanSort()?e.jsx("div",{className:v("flex items-center space-x-2",o),children:e.jsxs(K,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"sm",className:"data-[state=open]:bg-accent -ml-3 h-8",children:[e.jsx("span",{children:t}),s.getIsSorted()==="desc"?e.jsx(R,{className:"ml-2 h-4 w-4"}):s.getIsSorted()==="asc"?e.jsx(b,{className:"ml-2 h-4 w-4"}):e.jsx(q,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(Q,{align:"start",children:[e.jsxs(S,{onClick:()=>s.toggleSorting(!1),children:[e.jsx(b,{className:"text-muted-foreground/70 mr-2 h-3.5 w-3.5"}),"Asc"]}),e.jsxs(S,{onClick:()=>s.toggleSorting(!0),children:[e.jsx(R,{className:"text-muted-foreground/70 mr-2 h-3.5 w-3.5"}),"Desc"]}),s.getCanHide()&&e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsxs(S,{onClick:()=>s.toggleVisibility(!1),children:[e.jsx(B,{className:"text-muted-foreground/70 mr-2 h-3.5 w-3.5"}),"Hide"]})]})]})]})}):e.jsx("div",{className:v(o),children:t})}function A({table:s}){return e.jsxs("div",{className:"flex items-center justify-between overflow-clip px-2",style:{overflowClipMargin:1},children:[e.jsxs("div",{className:"text-muted-foreground hidden flex-1 text-sm sm:block",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"text-foreground flex items-center sm:space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),e.jsxs(Z,{value:`${s.getState().pagination.pageSize}`,onValueChange:t=>{s.setPageSize(Number(t))},children:[e.jsx(_,{className:"h-8 w-[70px]",children:e.jsx(ee,{placeholder:s.getState().pagination.pageSize})}),e.jsx(se,{side:"top",children:[10,20,30,40,50].map(t=>e.jsx(te,{value:`${t}`,children:t},t))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(d,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(z,{className:"h-4 w-4"})]}),e.jsxs(d,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(L,{className:"h-4 w-4"})]}),e.jsxs(d,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(W,{className:"h-4 w-4"})]}),e.jsxs(d,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx($,{className:"h-4 w-4"})]})]})]})]})}function U({table:s}){const t=s.getState().columnFilters.length>0;return e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[e.jsx(ae,{placeholder:"Filter workspace...",value:s.getColumn("name")?.getFilterValue()??"",onChange:o=>s.getColumn("name")?.setFilterValue(o.target.value),className:"h-8 w-[150px] lg:w-[250px]"}),t&&e.jsxs(d,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(J,{className:"ml-2 h-4 w-4"})]})]})})}function me({columns:s,data:t}){const[o,x]=r.useState({}),[u,j]=r.useState({}),[w,f]=r.useState([]),[C,N]=r.useState([]),c=M({data:t,columns:s,state:{sorting:C,columnVisibility:u,rowSelection:o,columnFilters:w},enableRowSelection:!0,onRowSelectionChange:x,onSortingChange:N,onColumnFiltersChange:f,onColumnVisibilityChange:j,getCoreRowModel:I(),getFilteredRowModel:P(),getPaginationRowModel:Y(),getSortedRowModel:y(),getFacetedRowModel:D(),getFacetedUniqueValues:F()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(U,{table:c}),e.jsx("div",{className:"max-h-[calc(60vh)] min-h-24 overflow-y-scroll rounded-md border",children:e.jsxs(T,{children:[e.jsx(V,{children:c.getHeaderGroups().map(i=>e.jsx(m,{className:"group/row",children:i.headers.map(l=>e.jsx(k,{colSpan:l.colSpan,className:l.column.columnDef.meta?.className??"",children:l.isPlaceholder?null:h(l.column.columnDef.header,l.getContext())},l.id))},i.id))}),e.jsx(H,{children:c.getRowModel().rows?.length?c.getRowModel().rows.map(i=>e.jsx(m,{"data-state":i.getIsSelected()&&"selected",className:"group/row",children:i.getVisibleCells().map(l=>e.jsx(p,{className:l.column.columnDef.meta?.className??"",children:h(l.column.columnDef.cell,l.getContext())},l.id))},i.id)):e.jsx(m,{children:e.jsx(p,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(A,{table:c})]})}function ge({columns:s,data:t,pageCount:o,pageIndex:x,pageSize:u,onPageChange:j,onPageSizeChange:w}){const[f,C]=r.useState({}),[N,c]=r.useState({}),[i,l]=r.useState([]),[E,G]=r.useState([]),g=M({data:t,columns:s,pageCount:o,state:{sorting:E,columnVisibility:N,rowSelection:f,columnFilters:i,pagination:{pageIndex:x,pageSize:u}},enableRowSelection:!0,onRowSelectionChange:C,onSortingChange:G,onColumnFiltersChange:l,onColumnVisibilityChange:c,onPaginationChange:n=>{const a=typeof n=="function"?n({pageIndex:x,pageSize:u}):n;j(a.pageIndex),w(a.pageSize)},getCoreRowModel:I(),getFilteredRowModel:P(),getSortedRowModel:y(),getFacetedRowModel:D(),getFacetedUniqueValues:F(),manualPagination:!0});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(U,{table:g}),e.jsx(T,{children:e.jsxs("div",{className:"overflow-scroll rounded-md border",children:[e.jsx(V,{children:g.getHeaderGroups().map(n=>e.jsx(m,{className:"group/row",children:n.headers.map(a=>e.jsx(k,{colSpan:a.colSpan,className:a.column.columnDef.meta?.className??"",children:a.isPlaceholder?null:h(a.column.columnDef.header,a.getContext())},a.id))},n.id))}),e.jsx(H,{children:g.getRowModel().rows?.length?g.getRowModel().rows.map(n=>e.jsx(m,{"data-state":n.getIsSelected()&&"selected",className:"group/row",children:n.getVisibleCells().map(a=>e.jsx(p,{className:a.column.columnDef.meta?.className??"",children:h(a.column.columnDef.cell,a.getContext())},a.id))},n.id)):e.jsx(m,{children:e.jsx(p,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(A,{table:g})]})}export{de as D,me as U,ge as W};
