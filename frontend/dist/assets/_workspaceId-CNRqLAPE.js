import{C as x,a as h,j as s,B as g}from"./index-BIpb7VEJ.js";import{u as o,A as c,b as l}from"./alert-D0l1lUrz.js";import{a as d}from"./axiosInstance-SHYzUQLh.js";import{S as i}from"./Modal-CMAZ7A_o.js";import{c as j}from"./workspace-columns-DndduzNd.js";import{W as f}from"./workspace-table-YnT_YtZx.js";import{C as N}from"./chevron-left-Dk9p464F.js";import"./createLucideIcon-BFWoEbaP.js";import"./react-icons.esm-D3ovVlUy.js";import"./dropdown-menu-CPcBh0xs.js";import"./index-DdYp0NZ-.js";import"./index-XUdhzyfV.js";import"./index-HAQUmL7d.js";import"./index-BPgIyX4J.js";import"./index-DhVeR81R.js";import"./index-CGqW8isM.js";import"./index-gCXyVcA9.js";import"./chevron-right-BFa11Oe8.js";import"./check-Dy8uVGp8.js";import"./table-BuU_D776.js";import"./select-pvPekMj3.js";import"./index-BdQq_4o_.js";import"./index-5gSC79ij.js";import"./index-vvVGFqZL.js";import"./chevron-down-SDtBDa1w.js";import"./input-rNDUznzA.js";const v=async a=>(await d.get(`/user/${a}/`))?.data,w=async a=>(await d.get(`/workspace/?created_by=${a}&page_size=300/`))?.data;function y(){const{userId:a}=x({from:"/_authenticated/workspace/$userId"}),r=h(),{data:e,isLoading:m,error:p}=o({queryKey:["user",a],queryFn:()=>v(a)}),{data:t,isLoading:k,error:b}=o({queryKey:["workspaces",a],queryFn:()=>w(a)});return m?s.jsxs("div",{className:"space-y-4 p-4",children:[s.jsx(i,{className:"h-10 w-24"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(i,{className:"h-8 w-48"}),s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:Array.from({length:6}).map((n,u)=>s.jsx(i,{className:"h-6 w-full"},u))})]})]}):p?s.jsx("div",{className:"p-4",children:s.jsx(c,{variant:"destructive",children:s.jsx(l,{children:"Failed to load user details. Please try again."})})}):e?s.jsxs("div",{className:"space-y-4 p-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"User Details"}),s.jsxs(g,{variant:"ghost",onClick:()=>r({to:"/workspace"}),className:"flex items-center gap-2",children:[s.jsx(N,{className:"h-4 w-4"}),"Back to Workspace"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg border bg-white/50 p-4 md:grid-cols-2 dark:bg-white/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Basic Information"}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",e?.results?.first_name," ",e.last_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",e?.results?.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",e?.results?.country_code," ",e?.results?.phone_number]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"MAC Address:"})," ",e?.results?.mac_address]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Account Information"}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Role:"})," ",e?.results?.role_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:`ml-2 rounded-full px-2 py-1 text-xs ${e?.results?.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e?.results?.is_active?"Active":"Inactive"})]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Joined:"})," ",new Date(e?.results?.date_joined).toLocaleDateString()]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Verified:"})," ",e?.results?.is_verified?"Yes":"No"]})]})]})]}),s.jsx("div",{className:"-mx-4 flex-1 overflow-auto rounded-md bg-white/50 p-2 lg:flex-row lg:space-y-0 lg:space-x-12 dark:bg-white/20",children:s.jsx(f,{data:t?.results||[],columns:j({fieldAssistants,handleGenerateKey,fieldAssistantId,setFieldAssistantId,loading}),pageCount:Math.ceil((t?.count||0)/workspacePageSize),pageIndex:workspacePage-1,pageSize:workspacePageSize,onPageChange:n=>setWorkspacePage(n+1),onPageSizeChange:setWorkspacePageSize})})]}):s.jsx("div",{className:"p-4",children:s.jsx(c,{children:s.jsx(l,{children:"User not found"})})})}const O=y;export{O as component};
